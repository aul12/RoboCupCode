// sinus.h: Header für schnelle und präzise Trigonometrische Funktionen

#ifdef _cplusplus
	extern "C" {
#endif

// Sinus-Konstantenwerte
#ifdef _MAIN_FILE_
	float Sinus[91] = {
		0.00000000,
		0.01745241,
		0.03489950,
		0.05233596,
		0.06975647,
		0.08715574,
		0.10452846,
		0.12186934,
		0.13917310,
		0.15643447,
		0.17364818,
		0.19080900,
		0.20791169,
		0.22495105,
		0.24192190,
		0.25881905,
		0.27563736,
		0.29237170,
		0.30901699,
		0.32556815,
		0.34202014,
		0.35836795,
		0.37460659,
		0.39073113,
		0.40673664,
		0.42261826,
		0.43837115,
		0.45399050,
		0.46947156,
		0.48480962,
		0.50000000,
		0.51503807,
		0.52991926,
		0.54463904,
		0.55919290,
		0.57357644,
		0.58778525,
		0.60181502,
		0.61566148,
		0.62932039,
		0.64278761,
		0.65605903,
		0.66913061,
		0.68199836,
		0.69465837,
		0.70710678,
		0.71933980,
		0.73135370,
		0.74314483,
		0.75470958,
		0.76604444,
		0.77714596,
		0.78801075,
		0.79863551,
		0.80901699,
		0.81915204,
		0.82903757,
		0.83867057,
		0.84804810,
		0.85716730,
		0.86602540,
		0.87461971,
		0.88294759,
		0.89100652,
		0.89879405,
		0.90630779,
		0.91354546,
		0.92050485,
		0.92718385,
		0.93358043,
		0.93969262,
		0.94551858,
		0.95105652,
		0.95630476,
		0.96126170,
		0.96592583,
		0.97029573,
		0.97437006,
		0.97814760,
		0.98162718,
		0.98480775,
		0.98768834,
		0.99026807,
		0.99254615,
		0.99452190,
		0.99619470,
		0.99756405,
		0.99862953,
		0.99939083,
		0.99984770,
		1.00000000
	};
#else
	extern float Sinus[91];
#endif

// Sinusfunktion
inline float sinus(int16_t x)
{
	while(x < 0)
		x += 360;
	while(x > 360)
		x -= 360;
	
	if(x < 90)
		return Sinus[x];
	else if(x < 180)
		return Sinus[180-x];
	else if(x < 270)
		return -Sinus[x-180];
	else
		return -Sinus[360-x];
}

// Kosinusfunktion
inline float __attribute__ ((always_inline)) cosinus(int16_t x)
{
	return sinus(x + 90);
}

#ifdef _cplusplus
	}
#endif
